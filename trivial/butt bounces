summon FallingSand ~ ~.6 ~ {Time:1,Block:log,Passengers:[{id:FallingSand,Time:1,Block:redstone_block,Passengers:[{id:FallingSand,Time:1,Block:activator_rail,Passengers:[{id:MinecartCommandBlock,Command:gamerule commandBlockOutput false},{id:MinecartCommandBlock,Command:gamerule logAdminCommands false},{id:MinecartCommandBlock,Command:"tellraw @a [{\"text\":\"System installed using \",\"color\":\"yellow\"},{\"text\":\"tryashtar's \",\"bold\":\"true\",\"color\":\"gold\"},{\"text\":\"Command Compactor!\",\"underlined\":\"true\",\"color\":\"yellow\",\"clickEvent\":{\"action\":\"open_url\",\"value\":\"https://redd.it/3invah\"},\"hoverEvent\":{\"action\":\"show_text\",\"value\":\"Click!\"}}]"},{id:MinecartCommandBlock,Command:scoreboard objectives add sneakfall stat.sneakTime},{id:MinecartCommandBlock,Command:scoreboard objectives add levcount dummy},{id:MinecartCommandBlock,Command:fill ~4 ~-2 ~ ~6 ~-2 ~1 chain_command_block 3 _ {auto:1b,TrackOutput:0b}},{id:MinecartCommandBlock,Command:fill ~4 ~-2 ~ ~5 ~-2 ~ chain_command_block 5 _ {auto:1b,TrackOutput:0b}},{id:MinecartCommandBlock,Command:fill ~5 ~-2 ~1 ~6 ~-2 ~1 chain_command_block 4 _ {auto:1b,TrackOutput:0b}},{id:MinecartCommandBlock,Command:fill ~4 ~-1 ~ ~6 ~-1 ~1 chain_command_block 2 _ {auto:1b,TrackOutput:0b}},{id:MinecartCommandBlock,Command:fill ~5 ~-1 ~ ~6 ~-1 ~ chain_command_block 4 _ {auto:1b,TrackOutput:0b}},{id:MinecartCommandBlock,Command:fill ~4 ~-1 ~1 ~5 ~-1 ~1 chain_command_block 5 _ {auto:1b,TrackOutput:0b}},{id:MinecartCommandBlock,Command:setblock ~4 ~-1 ~ chain_command_block 1 _ {auto:1b,TrackOutput:0b}},{id:MinecartCommandBlock,Command:setblock ~4 ~-2 ~1 chain_command_block 1 _ {auto:1b,TrackOutput:0b}},{id:MinecartCommandBlock,Command:setblock ~4 ~-2 ~ repeating_command_block 5 _ {TrackOutput:0b,Command:scoreboard players tag @a remove justleft}},{id:MinecartCommandBlock,Command:blockdata ~5 ~-2 ~ {Command:scoreboard players tag @a[tag=intheair] add justleft {OnGround:1b}}},{id:MinecartCommandBlock,Command:blockdata ~6 ~-2 ~ {Command:scoreboard players tag @a remove intheair}},{id:MinecartCommandBlock,Command:blockdata ~6 ~-2 ~1 {Command:scoreboard players tag @a add intheair {OnGround:0b}}},{id:MinecartCommandBlock,Command:blockdata ~5 ~-2 ~1 {Command:effect @a[tag=intheair,score_sneakfall_min=1,score_levcount=-5] levitation 1 150 true}},{id:MinecartCommandBlock,Command:blockdata ~4 ~-2 ~1 {Command:effect @a[tag=intheair,score_sneakfall_min=1,score_levcount=-5] jump_boost 1 255 true}},{id:MinecartCommandBlock,Command:blockdata ~4 ~-1 ~1 {Command:effect @a[tag=justleft,score_sneakfall_min=1] levitation 0}},{id:MinecartCommandBlock,Command:blockdata ~5 ~-1 ~1 {Command:effect @a[tag=justleft,score_sneakfall_min=1] levitation 1 70 true}},{id:MinecartCommandBlock,Command:blockdata ~6 ~-1 ~1 {Command:scoreboard players set @a[tag=justleft,score_sneakfall_min=1] levcount 3}},{id:MinecartCommandBlock,Command:blockdata ~6 ~-1 ~ {Command:scoreboard players remove @a[score_levcount_min=-10] levcount 1}},{id:MinecartCommandBlock,Command:blockdata ~5 ~-1 ~ {Command:effect @a[score_levcount_min=0,score_levcount=0] levitation 0}},{id:MinecartCommandBlock,Command:blockdata ~4 ~-1 ~ {Command:scoreboard players set @a[score_sneakfall_min=1] sneakfall 0}},{id:MinecartCommandBlock,Command:setblock ~1 ~-2 ~ command_block 0 _ {Command:fill ~-1 ~ ~ ~ ~2 ~ air,auto:1b}},{id:MinecartCommandBlock,Command:setblock ~ ~-3 ~2 command_block 4 _ {Command:fill ~4 ~1 ~-2 ~6 ~2 ~-1 air}},{id:MinecartCommandBlock,Command:setblock ~3 ~-2 ~ lever 10},{id:MinecartCommandBlock,Command:kill @e[type=MinecartCommandBlock,r=2]}]}]}]}
