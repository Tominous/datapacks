summon FallingSand ~ ~.6 ~ {Time:1,Block:log,Passengers:[{id:FallingSand,Time:1,Block:redstone_block,Passengers:[{id:FallingSand,Time:1,Block:activator_rail,Passengers:[{id:MinecartCommandBlock,Command:gamerule commandBlockOutput false},{id:MinecartCommandBlock,Command:gamerule logAdminCommands false},{id:MinecartCommandBlock,Command:"tellraw @a [{\"text\":\"System installed using \",\"color\":\"yellow\"},{\"text\":\"tryashtar's \",\"bold\":\"true\",\"color\":\"gold\"},{\"text\":\"Command Compactor!\",\"underlined\":\"true\",\"color\":\"yellow\",\"clickEvent\":{\"action\":\"open_url\",\"value\":\"https://redd.it/3invah\"},\"hoverEvent\":{\"action\":\"show_text\",\"value\":\"Click!\"}}]"},{id:MinecartCommandBlock,Command:scoreboard objectives add potionheat dummy},{id:MinecartCommandBlock,Command:scoreboard objectives add particletimer dummy},{id:MinecartCommandBlock,Command:scoreboard objectives add dropwoods stat.drop.minecraft.wooden_sword},{id:MinecartCommandBlock,Command:scoreboard objectives add dropstones stat.drop.minecraft.stone_sword},{id:MinecartCommandBlock,Command:scoreboard objectives add dropirons stat.drop.minecraft.iron_sword},{id:MinecartCommandBlock,Command:scoreboard objectives add dropgolds stat.drop.minecraft.golden_sword},{id:MinecartCommandBlock,Command:scoreboard objectives add dropdiamonds stat.drop.minecraft.diamond_sword},{id:MinecartCommandBlock,Command:fill ~3 ~-3 ~ ~6 ~-3 ~3 chain_command_block 3 _ {auto:1b,TrackOutput:0b}},{id:MinecartCommandBlock,Command:fill ~3 ~-3 ~ ~5 ~-3 ~ chain_command_block 5 _ {auto:1b,TrackOutput:0b}},{id:MinecartCommandBlock,Command:fill ~4 ~-3 ~1 ~6 ~-3 ~1 chain_command_block 4 _ {auto:1b,TrackOutput:0b}},{id:MinecartCommandBlock,Command:clone ~3 ~-3 ~ ~6 ~-3 ~1 ~3 ~-3 ~2},{id:MinecartCommandBlock,Command:fill ~3 ~-2 ~ ~6 ~-2 ~3 chain_command_block 2 _ {auto:1b,TrackOutput:0b}},{id:MinecartCommandBlock,Command:fill ~4 ~-2 ~ ~6 ~-2 ~ chain_command_block 4 _ {auto:1b,TrackOutput:0b}},{id:MinecartCommandBlock,Command:fill ~3 ~-2 ~1 ~5 ~-2 ~1 chain_command_block 5 _ {auto:1b,TrackOutput:0b}},{id:MinecartCommandBlock,Command:clone ~3 ~-2 ~ ~6 ~-2 ~1 ~3 ~-2 ~2},{id:MinecartCommandBlock,Command:setblock ~3 ~-2 ~ chain_command_block 1 _ {auto:1b,TrackOutput:0b}},{id:MinecartCommandBlock,Command:setblock ~3 ~-3 ~3 chain_command_block 1 _ {auto:1b,TrackOutput:0b}},{id:MinecartCommandBlock,Command:clone ~3 ~-3 ~ ~6 ~-2 ~3 ~3 ~-1 ~},{id:MinecartCommandBlock,Command:setblock ~3 ~-3 ~ repeating_command_block 5 _ {TrackOutput:0b,Command:scoreboard players tag @e[type=Item] remove healthpot}},{id:MinecartCommandBlock,Command:"blockdata ~4 ~-3 ~ {Command:\"scoreboard players tag @e[type=Item] add healthpot {Item:{id:\\\"minecraft:potion\\\",tag:{Potion:\\\"minecraft:healing\\\"}}}\"}"},{id:MinecartCommandBlock,Command:blockdata ~5 ~-3 ~ {Command:scoreboard players tag @e[type=Item] remove healthpot {Item:{tag:{hotpotion:1}}}}},{id:MinecartCommandBlock,Command:blockdata ~6 ~-3 ~ {Command:scoreboard players tag @e[type=Item] remove glasspot}},{id:MinecartCommandBlock,Command:blockdata ~6 ~-3 ~1 {Command:scoreboard players tag @e[type=Item] remove unglasspot}},{id:MinecartCommandBlock,Command:"blockdata ~5 ~-3 ~1 {Command:\"scoreboard players tag @e[type=Item] add glasspot {Item:{id:\\\"minecraft:glass_bottle\\\",Count:1b,tag:{meloned:1}}}\"}"},{id:MinecartCommandBlock,Command:"blockdata ~4 ~-3 ~1 {Command:\"scoreboard players tag @e[type=Item,tag=!glasspot] add unglasspot {Item:{id:\\\"minecraft:glass_bottle\\\",Count:1b}}\"}"},{id:MinecartCommandBlock,Command:blockdata ~3 ~-3 ~1 {Command:execute @e[type=ArmorStand,name=CauldronTracker] ~ ~.5 ~ scoreboard players tag @e[type=Item,tag=healthpot,r=1] remove healthpot}},{id:MinecartCommandBlock,Command:blockdata ~3 ~-3 ~2 {Command:execute @e[type=Item,tag=healthpot] ~ ~ ~ detect ~ ~-.2 ~ cauldron 0 summon ItemFrame ~ ~-.2 ~ {CustomName:PotionSetupFrame}}},{id:MinecartCommandBlock,Command:blockdata ~4 ~-3 ~2 {Command:execute @e[type=Item,tag=healthpot] ~ ~ ~ detect ~ ~-.2 ~ cauldron 0 entitydata @e[type=Item,c=1] {Item:{id:glass_bottle},PickupDelay:0}}},{id:MinecartCommandBlock,Command:blockdata ~5 ~-3 ~2 {Command:execute @e[type=ItemFrame,name=PotionSetupFrame] ~ ~ ~.5 summon ArmorStand ~ ~ ~ {CustomName:CauldronTracker,Marker:1,Invisible:1,NoGravity:1}}},{id:MinecartCommandBlock,Command:blockdata ~6 ~-3 ~2 {Command:execute @e[type=ItemFrame,name=PotionSetupFrame] ~ ~ ~.5 summon ArmorStand ~.1 ~-1.5 ~.1 {CustomName:PotionTexture,Invisible:1,NoGravity:1,ArmorItems:[{},{},{},{id:stained_glass,Damage:14}]}}},{id:MinecartCommandBlock,Command:blockdata ~6 ~-3 ~3 {Command:execute @e[type=ItemFrame,name=PotionSetupFrame] ~ ~ ~.5 summon ArmorStand ~-.1 ~-1.5 ~.1 {CustomName:PotionTexture,Invisible:1,NoGravity:1,ArmorItems:[{},{},{},{id:stained_glass,Damage:14}]}}},{id:MinecartCommandBlock,Command:blockdata ~5 ~-3 ~3 {Command:execute @e[type=ItemFrame,name=PotionSetupFrame] ~ ~ ~.5 summon ArmorStand ~.1 ~-1.5 ~-.1 {CustomName:PotionTexture,Invisible:1,NoGravity:1,ArmorItems:[{},{},{},{id:stained_glass,Damage:14}]}}},{id:MinecartCommandBlock,Command:blockdata ~4 ~-3 ~3 {Command:execute @e[type=ItemFrame,name=PotionSetupFrame] ~ ~ ~.5 summon ArmorStand ~-.1 ~-1.5 ~-.1 {CustomName:PotionTexture,Invisible:1,NoGravity:1,ArmorItems:[{},{},{},{id:stained_glass,Damage:14}]}}},{id:MinecartCommandBlock,Command:blockdata ~3 ~-3 ~3 {Command:execute @e[type=ItemFrame,name=PotionSetupFrame] ~ ~ ~.5 summon ArmorStand ~.1 ~-1.5 ~.1 {CustomName:PotionTexture,Invisible:1,NoGravity:1,ArmorItems:[{},{},{},{id:stained_glass,Damage:14}]}}},{id:MinecartCommandBlock,Command:blockdata ~3 ~-2 ~3 {Command:execute @e[type=ItemFrame,name=PotionSetupFrame] ~ ~ ~.5 summon ArmorStand ~-.1 ~-1.5 ~.1 {CustomName:PotionTexture,Invisible:1,NoGravity:1,ArmorItems:[{},{},{},{id:stained_glass,Damage:14}]}}},{id:MinecartCommandBlock,Command:blockdata ~4 ~-2 ~3 {Command:execute @e[type=ItemFrame,name=PotionSetupFrame] ~ ~ ~.5 summon ArmorStand ~.1 ~-1.5 ~-.1 {CustomName:PotionTexture,Invisible:1,NoGravity:1,ArmorItems:[{},{},{},{id:stained_glass,Damage:14}]}}},{id:MinecartCommandBlock,Command:blockdata ~5 ~-2 ~3 {Command:execute @e[type=ItemFrame,name=PotionSetupFrame] ~ ~ ~.5 summon ArmorStand ~-.1 ~-1.5 ~-.1 {CustomName:PotionTexture,Invisible:1,NoGravity:1,ArmorItems:[{},{},{},{id:stained_glass,Damage:14}]}}},{id:MinecartCommandBlock,Command:blockdata ~6 ~-2 ~3 {Command:kill @e[type=ItemFrame,name=PotionSetupFrame]}},{id:MinecartCommandBlock,Command:blockdata ~6 ~-2 ~2 {Command:scoreboard players tag @e[type=ArmorStand,name=CauldronTracker] add notinblock}},{id:MinecartCommandBlock,Command:blockdata ~5 ~-2 ~2 {Command:execute @e[type=ArmorStand,name=CauldronTracker] ~ ~ ~ detect ~ ~ ~ cauldron -1 scoreboard players tag @e[type=ArmorStand,c=1] remove notinblock}},{id:MinecartCommandBlock,Command:blockdata ~4 ~-2 ~2 {Command:scoreboard players remove @e[type=ArmorStand,name=CauldronTracker,score_potionheat_min=2] potionheat 1}},{id:MinecartCommandBlock,Command:blockdata ~3 ~-2 ~2 {Command:execute @e[type=ArmorStand,name=CauldronTracker] ~ ~ ~ detect ~ ~-1 ~ fire -1 scoreboard players add @e[type=ArmorStand,c=1] potionheat 2}},{id:MinecartCommandBlock,Command:blockdata ~3 ~-2 ~1 {Command:scoreboard players add @e[type=ArmorStand,name=CauldronTracker] particletimer 1}},{id:MinecartCommandBlock,Command:blockdata ~4 ~-2 ~1 {Command:scoreboard players set @e[type=ArmorStand,name=CauldronTracker,score_particletimer_min=20] particletimer 0}},{id:MinecartCommandBlock,Command:blockdata ~5 ~-2 ~1 {Command:execute @e[type=ArmorStand,name=CauldronTracker,score_potionheat_min=100,score_particletimer=0] ~ ~ ~ particle cloud ~ ~.5 ~ .2 .05 .2 .01 1 force}},{id:MinecartCommandBlock,Command:blockdata ~6 ~-2 ~1 {Command:execute @e[type=ArmorStand,name=CauldronTracker,score_potionheat_min=300,score_particletimer=0] ~ ~ ~ particle smoke ~ ~.5 ~ .2 .05 .2 .01 1 force}},{id:MinecartCommandBlock,Command:"blockdata ~6 ~-2 ~ {Command:\"execute @e[type=ArmorStand,name=CauldronTracker,score_potionheat_min=500] ~ ~.5 ~ entitydata @e[type=Item,tag=glasspot,r=1,c=1] {Item:{id:potion,tag:{Potion:\\\"minecraft:healing\\\",hotpotion:1,display:{Name:\\\"Hot Potion of Healing\\\"}}}}\"}"},{id:MinecartCommandBlock,Command:blockdata ~5 ~-2 ~ {Command:execute @e[type=ArmorStand,name=CauldronTracker,score_potionheat_min=500] ~ ~.5 ~ execute @e[type=Item,tag=glasspot,r=1,c=1] ~ ~-.5 ~ scoreboard players tag @e[type=ArmorStand,name=CauldronTracker,score_potionheat_min=500,r=3,c=1] add notinblock}},{id:MinecartCommandBlock,Command:blockdata ~4 ~-2 ~ {Command:execute @e[type=ArmorStand,name=CauldronTracker,tag=notinblock] ~ ~ ~ kill @e[type=ArmorStand,name=PotionTexture,r=2,c=8]}},{id:MinecartCommandBlock,Command:blockdata ~3 ~-2 ~ {Command:kill @e[type=ArmorStand,name=CauldronTracker,tag=notinblock]}},{id:MinecartCommandBlock,Command:blockdata ~3 ~-1 ~ {Command:execute @e[type=ArmorStand,name=CauldronTracker] ~ ~ ~ setblock ~ ~ ~ cauldron}},{id:MinecartCommandBlock,Command:blockdata ~4 ~-1 ~ {Command:execute @a[score_dropwoods_min=1,tag=readytoslice] ~ ~1 ~ entitydata @e[type=Item,r=1,c=1] {PickupDelay:0}}},{id:MinecartCommandBlock,Command:blockdata ~5 ~-1 ~ {Command:execute @a[score_dropstones_min=1,tag=readytoslice] ~ ~1 ~ entitydata @e[type=Item,r=1,c=1] {PickupDelay:0}}},{id:MinecartCommandBlock,Command:blockdata ~6 ~-1 ~ {Command:execute @a[score_dropirons_min=1,tag=readytoslice] ~ ~1 ~ entitydata @e[type=Item,r=1,c=1] {PickupDelay:0}}},{id:MinecartCommandBlock,Command:blockdata ~6 ~-1 ~1 {Command:execute @a[score_dropgolds_min=1,tag=readytoslice] ~ ~1 ~ entitydata @e[type=Item,r=1,c=1] {PickupDelay:0}}},{id:MinecartCommandBlock,Command:blockdata ~5 ~-1 ~1 {Command:execute @a[score_dropdiamonds_min=1,tag=readytoslice] ~ ~1 ~ entitydata @e[type=Item,r=1,c=1] {PickupDelay:0}}},{id:MinecartCommandBlock,Command:blockdata ~4 ~-1 ~1 {Command:replaceitem entity @a[score_dropwoods_min=1,tag=readytoslice] slot.weapon.offhand melon 5}},{id:MinecartCommandBlock,Command:blockdata ~3 ~-1 ~1 {Command:replaceitem entity @a[score_dropstones_min=1,tag=readytoslice] slot.weapon.offhand melon 5}},{id:MinecartCommandBlock,Command:blockdata ~3 ~-1 ~2 {Command:replaceitem entity @a[score_dropirons_min=1,tag=readytoslice] slot.weapon.offhand melon 5}},{id:MinecartCommandBlock,Command:blockdata ~4 ~-1 ~2 {Command:replaceitem entity @a[score_dropgolds_min=1,tag=readytoslice] slot.weapon.offhand melon 5}},{id:MinecartCommandBlock,Command:blockdata ~5 ~-1 ~2 {Command:replaceitem entity @a[score_dropdiamonds_min=1,tag=readytoslice] slot.weapon.offhand melon 5}},{id:MinecartCommandBlock,Command:blockdata ~6 ~-1 ~2 {Command:scoreboard players set @a[score_dropwoods_min=1] dropwoods 0}},{id:MinecartCommandBlock,Command:blockdata ~6 ~-1 ~3 {Command:scoreboard players set @a[score_dropstones_min=1] dropstones 0}},{id:MinecartCommandBlock,Command:blockdata ~5 ~-1 ~3 {Command:scoreboard players set @a[score_dropirons_min=1] dropirons 0}},{id:MinecartCommandBlock,Command:blockdata ~4 ~-1 ~3 {Command:scoreboard players set @a[score_dropgolds_min=1] dropgolds 0}},{id:MinecartCommandBlock,Command:blockdata ~3 ~-1 ~3 {Command:scoreboard players set @a[score_dropdiamonds_min=1] dropdiamonds 0}},{id:MinecartCommandBlock,Command:blockdata ~3 ~ ~3 {Command:scoreboard players tag @a remove readytoslice}},{id:MinecartCommandBlock,Command:"blockdata ~4 ~ ~3 {Command:\"scoreboard players tag @a add readytoslice {SelectedItem:{id:\\\"minecraft:wooden_sword\\\"},Inventory:[{Slot:-106b,id:\\\"minecraft:melon_block\\\",Count:1b}]}\"}"},{id:MinecartCommandBlock,Command:"blockdata ~5 ~ ~3 {Command:\"scoreboard players tag @a add readytoslice {SelectedItem:{id:\\\"minecraft:stone_sword\\\"},Inventory:[{Slot:-106b,id:\\\"minecraft:melon_block\\\",Count:1b}]}\"}"},{id:MinecartCommandBlock,Command:"blockdata ~6 ~ ~3 {Command:\"scoreboard players tag @a add readytoslice {SelectedItem:{id:\\\"minecraft:iron_sword\\\"},Inventory:[{Slot:-106b,id:\\\"minecraft:melon_block\\\",Count:1b}]}\"}"},{id:MinecartCommandBlock,Command:"blockdata ~6 ~ ~2 {Command:\"scoreboard players tag @a add readytoslice {SelectedItem:{id:\\\"minecraft:golden_sword\\\"},Inventory:[{Slot:-106b,id:\\\"minecraft:melon_block\\\",Count:1b}]}\"}"},{id:MinecartCommandBlock,Command:"blockdata ~5 ~ ~2 {Command:\"scoreboard players tag @a add readytoslice {SelectedItem:{id:\\\"minecraft:diamond_sword\\\"},Inventory:[{Slot:-106b,id:\\\"minecraft:melon_block\\\",Count:1b}]}\"}"},{id:MinecartCommandBlock,Command:blockdata ~4 ~ ~2 {Command:scoreboard players tag @e[type=Item] remove popmelon}},{id:MinecartCommandBlock,Command:"blockdata ~3 ~ ~2 {Command:\"scoreboard players tag @e[type=Item] add popmelon {Item:{id:\\\"minecraft:melon\\\"}}\"}"},{id:MinecartCommandBlock,Command:blockdata ~3 ~ ~1 {Command:scoreboard players tag @e[type=Item] remove onemelon}},{id:MinecartCommandBlock,Command:blockdata ~4 ~ ~1 {Command:scoreboard players tag @e[type=Item,tag=popmelon] add onemelon {Item:{Count:1b}}}},{id:MinecartCommandBlock,Command:blockdata ~5 ~ ~1 {Command:execute @e[type=Item,tag=popmelon] ~ ~ ~ particle bubble ~ ~.3 ~ .02 .02 .02 0 1 force}},{id:MinecartCommandBlock,Command:"blockdata ~6 ~ ~1 {Command:\"execute @e[type=Item,tag=onemelon] ~ ~ ~ entitydata @e[type=Item,tag=unglasspot,r=0,c=1] {Item:{tag:{meloned:1,display:{Name:\\\"Melon'd Glass Bottle\\\"}}}}\"}"},{id:MinecartCommandBlock,Command:blockdata ~6 ~ ~ {Command:execute @e[type=Item,tag=onemelon] ~ ~ ~ execute @e[type=Item,tag=unglasspot,r=0,c=1] ~ ~ ~ kill @e[type=Item,tag=onemelon,r=2,c=1]}},{id:MinecartCommandBlock,Command:setblock ~1 ~-2 ~ command_block 0 _ {Command:fill ~-1 ~ ~ ~ ~2 ~ air,auto:1b}},{id:MinecartCommandBlock,Command:setblock ~ ~-3 ~2 command_block 4 _ {Command:summon FallingSand ~ ~.6 ~ {Time:1,Block:log,Passengers:[{id:FallingSand,Time:1,Block:redstone_block,Passengers:[{id:FallingSand,Time:1,Block:activator_rail,Passengers:[{id:MinecartCommandBlock,Command:fill ~3 ~-3 ~-2 ~6 ~ ~1 air},{id:MinecartCommandBlock,Command:scoreboard objectives remove potionheat},{id:MinecartCommandBlock,Command:scoreboard objectives remove particletimer},{id:MinecartCommandBlock,Command:scoreboard objectives remove dropwoods},{id:MinecartCommandBlock,Command:scoreboard objectives remove dropstones},{id:MinecartCommandBlock,Command:scoreboard objectives remove dropirons},{id:MinecartCommandBlock,Command:scoreboard objectives remove dropgolds},{id:MinecartCommandBlock,Command:scoreboard objectives remove dropdiamonds},{id:MinecartCommandBlock,Command:setblock ~1 ~-2 ~ command_block 0 _ {Command:fill ~-1 ~ ~ ~ ~2 ~ air,auto:1b}},{id:MinecartCommandBlock,Command:kill @e[type=MinecartCommandBlock,r=2]}]}]}]}}},{id:MinecartCommandBlock,Command:setblock ~2 ~-3 ~ lever 10},{id:MinecartCommandBlock,Command:kill @e[type=MinecartCommandBlock,r=2]}]}]}]}
